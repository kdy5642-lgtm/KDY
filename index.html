<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>SHAHEEN PKG3 ê¸°ê³„/ë°°ê´€ í˜„ì¥ì‘ì—… ì°¸ê³ ìš©</title>

<style>
* { box-sizing: border-box; }
body {
  margin: 0;
  padding: 0;
  background: #e9ecef;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
}

.container {
  max-width: 600px;
  margin: 20px auto;
  padding: 40px 20px;
  text-align: center;
  background: #ffffff;
  border: 4px solid #1d7df5;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

h1 {
  font-size: 22px;
  font-weight: 700;
  margin-bottom: 10px;
  color: #222;
}

/* ë‚ ì§œ í‘œì‹œ */
#dateInfo {
  font-size: 14px;
  margin-bottom: 25px;
  color: #666;
}

/* ë©”ë‰´ ë²„íŠ¼ */
.menu-btn {
  display: block;
  width: 100%;
  background: #2563eb;
  color: white;
  text-decoration: none;
  padding: 16px;
  border-radius: 12px;
  font-size: 18px;
  margin-bottom: 16px;
  font-weight: 600;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}
.menu-btn:hover { background: #1e4fc9; }

/* ğŸ”µ ë¡œë”© ìŠ¤í”¼ë„ˆ */
#loadingSpinner {
  display: none;
  margin: 20px auto;
  border: 6px solid #e0e0e0;
  border-top: 6px solid #1d7df5;
  border-radius: 50%;
  width: 48px;
  height: 48px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* ğŸ”µ ì´ë¯¸ì§€ */
#keyplanImg {
  width: 100%;
  display: none;
  margin-top: 20px;
  border-radius: 10px;
  border: 2px solid #1d7df5;
}

</style>
</head>
<body>

<div class="container">

  <h1>PKG3 ëŒ€ê³µ ê¸°ê³„/ë°°ê´€ í˜„ì¥ì‘ì—… ì°¸ê³ ìš© [PLANTA]</h1>

  <div id="dateInfo">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>

  <a class="menu-btn" href="https://kdy5642-lgtm.github.io/KDY/piping.html">
    ISO DWG REVISION VIEWER
  </a>

  <a class="menu-btn" href="https://kdy5642-lgtm.github.io/KDY/wir.html">
    WIR (ìš©ì ‘ëœ ì¡°ì¸íŠ¸) ì •ë³´
  </a>

  <a class="menu-btn" href="https://kdy5642-lgtm.github.io/KDY/remain.html">
    WIR (ë¯¸ìš©ì ‘ ì¡°ì¸íŠ¸) ì •ë³´
  </a>

  <a class="menu-btn" href="https://kdy5642-lgtm.github.io/KDY/supt.html">
    PIPING SUPPORT ì •ë³´
  </a>

  <!-- ğŸ”µ KEYPLAN ë¡œë”© ìŠ¤í”¼ë„ˆ + ì´ë¯¸ì§€ -->
  <div id="loadingSpinner"></div>
  <img id="keyplanImg" src="https://kdy5642.synology.me/keyplan.png" alt="KEY PLAN">

</div>

<script>
// ë‚ ì§œ ì •ë³´ ë¡œë“œ
async function loadDateInfo() {
  try {
    const res = await fetch("date.txt?_=" + Date.now());
    const text = await res.text();
    document.getElementById("dateInfo").innerText = "ì ìš©ê¸°ì¤€ : " + text.trim();
  } catch (e) {
    document.getElementById("dateInfo").innerText = "ì ìš©ê¸°ì¤€: ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨";
  }
}
loadDateInfo();

// ğŸ”µ KEYPLAN PNG ë¡œë”© ì²˜ë¦¬
const img = document.getElementById("keyplanImg");
const spinner = document.getElementById("loadingSpinner");

// ë¡œë”© ì‹œì‘ â†’ ìŠ¤í”¼ë„ˆ í‘œì‹œ
spinner.style.display = "block";

// ì´ë¯¸ì§€ ë¡œë“œ ì™„ë£Œ
img.onload = function() {
  spinner.style.display = "none"; // ìŠ¤í”¼ë„ˆ ìˆ¨ê¹€
  img.style.display = "block";    // ì´ë¯¸ì§€ í‘œì‹œ
};

// ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨ ì‹œ ë©”ì‹œì§€ í‘œì‹œ
img.onerror = function() {
  spinner.style.display = "none";
  img.style.display = "none";
  document.getElementById("dateInfo").innerText = "ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
};
</script>

</body>
</html>
